%thead
  %tr
    %td.col-lg-8.col-md-8.col-sm-8.col-xs-8
      .dropdown.col-xs-7.col-sm-3.col-md-3.col-lg-3
        %a#status-dropdown.dropdown-toggle{ :type => "button", "data-toggle" => "dropdown", "aria-haspopup" => "true", "aria-expanded" => "true" }
          %h5
            %strong
              = t "task"
              %span.caret
        = content_tag(:ul, nil, :class => "dropdown-menu", "aria-labelledby" => "status-dropdown") do
          - @statuses.each do |status|
            = content_tag(:li) do
              = link_to("filterrific[status_progress]" => status, "filterrific[with_project]" => @project, method: :get, remote: true) do
                .round-sm.pull-left{ :class => "bg-#{color_list_round_div(status.translation_code)}" }
                = t("projects.tasks.#{status.translation_code}")
    %td.text-center
      .col-xs-12
        %h5
          %strong
            = filterrific_sorting_link(@filterrific, :workload)
    %td.col-lg-1.col-xs-1.col-sm-1.col-xs-1
%tbody
  - if (!tasks.empty?)
    - tasks.each do |task|
      %tr{ :class => color_list_round_div(task.status.translation_code) }
        %td
          %strong
            %small.dark-grey
              = task.updated_at.to_s(:short)
            Â·
            = link_to task.title.truncate(30), task_path(task), :title => task.title
          .dark-grey
            %small
              = task.description.squish.truncate(100)
          .dark-grey
            %small
              %strong
                \##{task.serial}
              by #{task.thinker.name}
        %td.text-center
          .col-xs-12.workload-table
            = workload_description(task)
        %td.text-right
          .form-group{ :style => "margin-bottom: 0;" }
            %a.btn.hidden-xs{ :href => "javascript:;", :title => task.standard_deviation, :role => "button" }
              = icon('bullseye', :class => "dark-grey fa-lg")
          .form-group{ :style => "margin-bottom: 0;" }
            %a.btn{ :class => task.goal.nil? ? "disabled" : "", :href => task.goal.nil? ? "javascript:;" : goal_path(task.goal), :title => task.goal.nil? ? t("no_goal") : task.goal.title, :role => "button" }
              = icon('crosshairs', :class => "dark-grey fa-lg")
  - else
    %td.text-center{ :colspan => 3 }
      = t('no_record')
