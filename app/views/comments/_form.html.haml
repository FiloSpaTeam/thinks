- remote = false
- if @comment.text.nil?
  - remote = true
= form_for [@task, @comment], remote: remote do |f|
  .form-group
    - if @comment.text.nil?
      = f.label :text, t(".your_small_thought_about"), :class => "control-label"
    - else
      .form-group
    = f.text_area(:text, :class => "form-control")
    %span#help-text.help-block
      = t "remaining_chars"
      %span#counter{ 'data-maximum-length' => @chars_max_comment }
        = @chars_max_comment - f.object.text.try('length').to_i
  = f.submit @comment.text.nil? ? t('submit') : t('update'), :class => "btn btn-primary"
= init_counter_textarea('#comment_text', '#counter')
